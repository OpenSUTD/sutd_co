/*!
This is where you'll write your jQuery scripts. 
I think it's probably not good prog practice to have both jQuery and javascript (inside index.html) even though afaik both are the same,
  but for organising, I'm placing general page behaviour here, while the index.html javascripts are purely for the highlights modals
 */

!(function (a) {
  "use strict";
  /*this function is to control the menu button*/
  a(".menu-toggle").click(function (e) {
    console.log("check");
    e.preventDefault(),
      a("#sidebar-wrapper").toggleClass("active"),
      /*if active, it means the sidebar menu is open*/
      a(".menu-toggle > .fa-bars, .menu-toggle > .fa-times").toggleClass(
        "fa-bars fa-times"
      ),
      a(this).toggleClass("active");
    /*if sidebar menu is open, display the black veil. else, close it.*/
    if ($("#sidebar-wrapper").attr("class") == "active") {
      $("#menuModal").css("display", "block");
    } else {
      $("#menuModal").css("display", "none");
    }
  }),
    /*the next 2 functions seem to be for the smooth scrolling (you should be free to use it anywhere though, idk i didn't write them lol)*/
    a('a.js-scroll-trigger[href*="#"]:not([href="#"])').click(function () {
      if (
        location.pathname.replace(/^\//, "") ==
          this.pathname.replace(/^\//, "") &&
        location.hostname == this.hostname
      ) {
        var e = a(this.hash);
        if ((e = e.length ? e : a("[name=" + this.hash.slice(1) + "]")).length)
          return (
            a("html, body").animate(
              { scrollTop: e.offset().top },
              1e3,
              "easeInOutExpo"
            ),
            !1
          );
      }
    }),
    a("#sidebar-wrapper .js-scroll-trigger").click(function () {
      a("#sidebar-wrapper").removeClass("active"),
        a(".menu-toggle").removeClass("active"),
        a(".menu-toggle > .fa-bars, .menu-toggle > .fa-times").toggleClass(
          "fa-bars fa-times"
        );
      $("#menuModal").css("display", "none");
    }),
    /*this function is the scroll-to-top button at the bottom right hand corner of index.html*/
    a(document).scroll(function () {
      100 < a(this).scrollTop()
        ? a(".scroll-to-top").fadeIn()
        : a(".scroll-to-top").fadeOut();
    }),
    /*now this is written by me. added the functionality where if you click outside of the sidebar menu you can close the sidebar menu as well.*/
    a("#menuModal").click(function (e) {
      var hold = $("#sidebar-wrapper");
      console.log(hold.attr("class"));
      if (hold.attr("class") == "active" && !hold.is(e.target)) {
        console.log("passed text case");
        $("#sidebar-wrapper").removeClass("active");
        $(".menu-toggle").removeClass("active");
        $(".menu-toggle > .fa-bars, .menu-toggle > .fa-times").toggleClass(
          "fa-bars fa-times"
        );
        $("#menuModal").css("display", "none");
        /*hiding the black veil as well*/
      }
    });
})(jQuery);
var onMapMouseleaveHandler = function (e) {
    var a = $(this);
    a.on("click", onMapClickHandler),
      a.off("mouseleave", onMapMouseleaveHandler),
      a.find("iframe").css("pointer-events", "none");
  },
  onMapClickHandler = function (e) {
    var a = $(this);
    a.off("click", onMapClickHandler),
      a.find("iframe").css("pointer-events", "auto"),
      a.on("mouseleave", onMapMouseleaveHandler);
  };
$(".map").on("click", onMapClickHandler);
/*idk what the above things are lmao*/
